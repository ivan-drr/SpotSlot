(this.webpackJsonpstorehouse=this.webpackJsonpstorehouse||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(15),r=n.n(o),i=(n(92),n(93),n(94),n(11)),s=n(12),l=n(14),d=n(13),u=n(83),h=n(8),f=n(1);n(98);function m(){return c.a.createElement("nav",{id:"navBar",className:"menu"},c.a.createElement("input",{defaultChecked:0,className:"menu-toggler",id:"menu-toggler",type:"checkbox"}),c.a.createElement("label",{style:{color:"transparent"},htmlFor:"menu-toggler"},"Menu"),c.a.createElement("ul",null,c.a.createElement("li",{className:"menu-item"},c.a.createElement("a",{href:"#filesystem",className:"item","aria-label":"File System",onClick:function(){document.getElementById("renderFilesystem").click(),document.getElementById("menu-toggler").click()}},c.a.createElement(h.a,{icon:f.x}))),c.a.createElement("li",{className:"menu-item"},c.a.createElement("a",{href:"#dashboard",className:"item","aria-label":"Dashboard",onClick:function(){document.getElementById("renderDashboard").click(),document.getElementById("menu-toggler").click()}},c.a.createElement(h.a,{icon:f.c}))),c.a.createElement("li",{className:"menu-item"},c.a.createElement("a",{href:"https://github.com/ivan-drr/SpotSlot",className:"item",target:"_blank","aria-label":"Github",rel:"noopener noreferrer",onClick:function(){return document.getElementById("menu-toggler").click()}},c.a.createElement(h.a,{icon:f.e}))),c.a.createElement("li",{className:"menu-item"},c.a.createElement("a",{href:"https://firebase.google.com/",className:"item",target:"_blank","aria-label":"Firebase",rel:"noopener noreferrer",onClick:function(){return document.getElementById("menu-toggler").click()}},c.a.createElement(h.a,{icon:f.w})))))}n(99);function p(e){return"error"===e._isFetch?(setTimeout((function(){g(" \u2718 Error connecting to API",70,"errorText",0)}),0),c.a.createElement("div",{id:"loading",className:"text-danger fixed-top"},c.a.createElement("span",{id:"errorText",className:"ml-3"}))):e._isFetch?null:(setTimeout((function(){g(" Loading...",70,"loadingText",0)}),0),c.a.createElement("div",{id:"loading",className:"text-primary fixed-top"},c.a.createElement("div",{className:"spinner-border text-primary",role:"status"}),c.a.createElement("span",{id:"loadingText",className:"ml-3"})))}var g=function e(t,n,a,c,o){if(null!==document.getElementById(a)){var r=document.getElementById(a);setTimeout((function(){return c<t.length&&(r.innerHTML+=t.charAt(c),c++,setTimeout(e(t,n,a,c),n),!0)}),1e3/n*2)}},y=n(85),v=n(32),E=n(84),b=n(45);function W(e){return k(e)&&(e=e.slice(0,-1)),e.replace(/^.*[\\\\/]/,"")}function k(e){return!!e.endsWith("/")}function w(e){return e.endsWith("/")?f.x:function(e){return e.endsWith(".java")?f.f:e.endsWith(".c")||e.endsWith(".cs")||e.endsWith(".sh")||e.endsWith(".swift")||e.endsWith(".vb")||e.endsWith(".js")||e.endsWith(".jsp")||e.endsWith(".php")||e.endsWith(".py")||e.endsWith(".asp")||e.endsWith(".aspx")?f.n:e.endsWith(".cer")?f.b:e.endsWith(".cfm")||e.endsWith(".css")||e.endsWith(".htm")||e.endsWith(".html")?f.n:e.endsWith(".part")?f.o:e.endsWith(".rss")?f.D:e.endsWith(".xhtml")?f.n:e.endsWith(".ai")||e.endsWith(".bmp")||e.endsWith(".gif")||e.endsWith(".ico")||e.endsWith(".jpeg")||e.endsWith(".jpg")||e.endsWith(".png")||e.endsWith(".ps")||e.endsWith(".psd")||e.endsWith(".svg")||e.endsWith(".tif")||e.endsWith(".tiff")?f.q:e.endsWith(".doc")||e.endsWith(".docx")||e.endsWith(".odt")?f.v:e.endsWith(".pdf")?f.s:e.endsWith(".rtf")||e.endsWith(".tex")?f.v:e.endsWith(".txt")?f.k:e.endsWith(".wks")||e.endsWith(".wps")||e.endsWith(".wpd")?f.v:e.endsWith(".3g2")||e.endsWith(".3gp")||e.endsWith(".avi")||e.endsWith(".flv")||e.endsWith(".h264")||e.endsWith(".m4v")||e.endsWith(".mkv")||e.endsWith(".mov")||e.endsWith(".mp4")||e.endsWith(".mpg")||e.endsWith(".mpeg")||e.endsWith(".rm")||e.endsWith(".swf")||e.endsWith(".vob")||e.endsWith(".wmv")?f.u:e.endsWith(".aif")||e.endsWith(".cda")||e.endsWith(".mid")||e.endsWith(".midi")||e.endsWith(".mp3")||e.endsWith(".mpa")||e.endsWith(".ogg")||e.endsWith(".wav")||e.endsWith(".wma")||e.endsWith(".wpl")?f.m:e.endsWith(".key")||e.endsWith(".odp")||e.endsWith(".pps")||e.endsWith(".ppt")||e.endsWith(".pptx")?f.t:e.endsWith(".ods")||e.endsWith(".xlr")||e.endsWith(".xls")||e.endsWith(".xlsx")?f.p:e.endsWith(".7z")||e.endsWith(".arj")||e.endsWith(".deb")||e.endsWith(".pkg")||e.endsWith(".rar")||e.endsWith(".rpm")||e.endsWith(".tar.gz")||e.endsWith(".z")||e.endsWith(".zip")?f.l:e.endsWith(".dmg")||e.endsWith(".iso")||e.endsWith(".toast")||e.endsWith(".vcd")?f.g:e.endsWith(".csv")||e.endsWith(".dat")||e.endsWith(".db")||e.endsWith(".dbf")||e.endsWith(".log")||e.endsWith(".mdb")||e.endsWith(".sav")||e.endsWith(".sql")?f.h:e.endsWith(".tar")?f.l:e.endsWith(".xml")?f.h:e.endsWith(".apk")||e.endsWith(".bat")||e.endsWith(".bin")||e.endsWith(".cgi")||e.endsWith(".pl")||e.endsWith(".com")||e.endsWith(".exe")||e.endsWith(".gadget")||e.endsWith(".jar")||e.endsWith(".wsf")?f.E:e.endsWith(".fnt")||e.endsWith(".fon")||e.endsWith(".otf")||e.endsWith(".ttf")?f.z:e.endsWith(".bak")||e.endsWith(".cab")||e.endsWith(".cfg")||e.endsWith(".cpl")||e.endsWith(".cur")||e.endsWith(".dll")||e.endsWith(".dmp")||e.endsWith(".drv")||e.endsWith(".ini")||e.endsWith(".lnk")||e.endsWith(".msi")||e.endsWith(".sys")||e.endsWith(".tmp")?f.B:f.j}(e)}var x,C=n(57),F=n.n(C),N=(n(212),F.a.initializeApp({apiKey:"AIzaSyAKhdToFzJKcW45iy4Yd3qS4pvELmbEKhM",authDomain:"spotslot-cloud.firebaseapp.com",databaseURL:"https://spotslot-cloud.firebaseio.com",projectId:"spotslot-cloud",storageBucket:"spotslot-cloud.appspot.com",messagingSenderId:"911180862163",appId:"1:911180862163:web:5ef4f2d09d58cc2e427a26"},"Splot")),S=F.a.storage(N).ref(),O=n(7),M=n.n(O),B=n(10),j=n(78),A=n.n(j),T=n(42),D="%c\u2609".concat(" %c"),z="%c\u2600".concat(" %c"),I="%c\u2602".concat(" %c"),U="%c\u2744".concat(" %c"),P="%c\u21c4".concat(" %c");function L(){x=new Date}function _(){var e=new Date-x;return e>=1e3&&(e=(e/1e3).toFixed(2))," (".concat(e,"ms)")}function R(e){var t="1E9E65";return t=e.includes("\u2600")?"1E9E65":e.includes("\u2602")?"aca94f":e.includes("\u2744")?"C72A2A":"598ED1",!!console.info(e,"font-size: 2em","color: #".concat(t,";"))}function H(e){if(null==e||"object"!==typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var K=function(){var e=Object(B.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new A.a,e.next=3,X(t,n);case 3:n.generateAsync({type:"blob"}).then((function(e){Object(T.saveAs)(e,W(t)+".zip")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(B.a)(M.a.mark((function e(t,n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.child(t),e.next=3,a.listAll().then(function(){var e=Object(B.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.prefixes.map(function(){var e=Object(B.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t.location.path,n.folder(W(t.location.path)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.next=4,Promise.all(t.items.map(function(){var e=Object(B.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(".folder"!==t.name){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getDownloadURL().then(function(){var e=Object(B.a)(M.a.mark((function e(a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a).then(function(){var e=Object(B.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blob();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(B.a)(M.a.mark((function e(a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.file(t.name,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),!1}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e,t){return L(),e.getMetadata().then((function(n){return t||R("".concat(z,"Metadata fetched for ").concat(n.name).concat(_())),{key:e.location.path,metadata:{_isFile:!0,name:n.name,size:n.size,timeCreated:n.timeCreated,updated:n.updated,contentType:n.contentType}}})).catch((function(e){return console.log(e),!1}))},Y=(n(109),n(110),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).eMouseDown=function(t){e.handleAreaSelect(t),e.handleClickOutOfCard(t)},e.setEvents=function(){var t=e.state.container;t.addEventListener("keydown",(function(t){e.deleteFilesOnKeyPress(t)})),t.addEventListener("mousedown",(function(t){e.eMouseDown(t)})),t.addEventListener("mouseup",(function(t){return e.handleAreaSelect(t)})),t.addEventListener("mousemove",(function(t){return e.handleAreaSelect(t)})),t.addEventListener("touchstart",(function(t){return e.eMouseDown(t)})),t.addEventListener("touchend",(function(t){return e.handleAreaSelect(t)})),t.addEventListener("touchmove",(function(t){return e.handleAreaSelect(t)}))},e.getMousePosition=function(e){var t,n,a,c;if(e.type.includes("mouse"))c=e;else{if(!e.type.includes("touch")||"touchend"===e.type)return!1;c=e.touches[0]}return null==c.pageX&&null!=c.clientX&&(n=(t=c.target&&c.target.ownerDocument||document).documentElement,a=t.body,c.pageX=c.clientX+(n&&n.scrollLeft?a&&a.scrollLeft:0)-(n&&n.clientLeft?a&&a.clientLeft:0),c.pageY=c.clientY+(n&&n.scrollTop?a&&a.scrollTop:0)-(n&&n.clientTop?a&&a.clientTop:0)),{x:c.pageX,y:c.pageY}},e.attachMousePosTo=function(t){var n=Math.min(e.sx0,e.sx1),a=Math.max(e.sx0,e.sx1),c=Math.min(e.sy0,e.sy1),o=Math.max(e.sy0,e.sy1);t.style.left="".concat(n,"px"),t.style.top="".concat(c,"px"),t.style.width="".concat(a-n,"px"),t.style.height="".concat(o-c,"px")},e.clickedOnCard=function(e){return!!("path"===e.target.tagName||"string"!==typeof e.target.className||e.target.className.includes("file")||e.target.className.includes("card")||e.target.className.includes("card-header")||e.target.className.includes("footer")||e.target.className.includes("card-footer")||e.target.className.includes("card-title")||e.target.className.includes("navButton"))},e.getCardTarget=function(e){if("BUTTON"!==e.target.className&&"path"!==e.target.tagName&&"svg"!==e.target.tagName){var t=e.target.parentElement;return t.className.includes("file")&&(t=t.children[0]),t.className.includes("card-header")&&(t=t.parentElement),t.className.includes("card-title")&&(t=t.parentElement.parentElement),t.parentElement}return!1},e.unselectCards=function(){Array.prototype.slice.call(document.getElementsByClassName("file")).forEach((function(e){return e.style.backgroundColor=""})),e.setState((function(e){if(0!==e.selectedCards.length)return e.selectedCards=[],e}))},e.handleClickOutOfCard=function(t){e._isMounted&&null!==document.getElementById("areaSelector")&&(e.clickedOnCard(t)||(Array.prototype.slice.call(document.getElementsByClassName("file")).forEach((function(e){return e.style.backgroundColor=""})),e.setState((function(e){if(0!==e.selectedCards.length)return e.selectedCards=[],e}))))},e.detectLeftButton=function(e){return"buttons"in(e=e||window.event)?1===e.buttons:1===(e.which||e.button)},e.handleMouseDown=function(t,n){if("mousedown"===e.lastMouseMove){"svg"!==t.target.tagName&&"path"!==t.target.tagName&&(t.target.className.includes("navButton")||e.unselectCards());var a=document.getElementById("newFolder");"popover-header"!==t.target.className&&"popover-body"!==t.target.className&&null!==a&&a.className.includes("show")&&document.getElementById("newfolderOverlay").click(),n.forEach((function(t,n){var a=t.parentElement;e.visibleOnArea(a)&&(e.state.selectedCards.includes(t)||e.setState((function(e){return e.selectedCards.push(t),e})),a.style.backgroundColor="rgba(102, 163, 198, 0.3)",a.style.borderRadius="0.3em",a.style.borderColor="#E2F1FF")}))}},e.visibleOnArea=function(t){var n=t.offsetWidth,a=t.offsetHeight,c=0,o=0;do{c+=t.offsetLeft||0,o+=t.offsetTop||0,t=t.offsetParent}while(t);var r=c+n,i=o+a,s=Math.min(e.sx0,e.sx1),l=Math.max(e.sx0,e.sx1),d=Math.min(e.sy0,e.sy1),u=Math.max(e.sy0,e.sy1);return!(c>l||r<s||o>u||i<d)},e.handleAreaSelect=function(t){if(e._isMounted){var n=document.getElementById("areaSelector");if(null!==n){var a=Array.prototype.slice.call(document.getElementsByClassName("card")),c=e.getMousePosition(t);if(e.sx1=c.x,e.sy1=c.y,"mousedown"===e.lastMouseMove&&e.attachMousePosTo(n),e.handleMouseDown(t,a),"mousedown"===t.type||"touchstart"===t.type){if(!c)return!1;n.hidden=0,e.sx0=c.x,e.sy0=c.y,e.attachMousePosTo(n),e.lastMouseMove="mousedown"}else"mouseup"!==t.type&&"touchend"!==t.type||(e.state.selectedCards.forEach((function(e){e.parentElement.style.backgroundColor="rgba(102, 163, 198, 0.51)",e.parentElement.style.borderRadius="0.3em",e.parentElement.style.borderColor="#E2F1FF"})),n.hidden=1,e.lastMouseMove="mouseup")}}},e.handleDownloadFiles=function(){e.state.selectedCards.forEach((function(e){var t=S.child(e.id);k(e.id)?K(e.id):t.getDownloadURL().then((function(t){fetch(t).then((function(e){return e.blob()})).then((function(t){Object(T.saveAs)(new Blob([t]),W(e.id))}))})).catch((function(e){switch(e.code){case"storage/object-not-found":R("".concat(U,"File doesn't exist"));break;case"storage/unauthorized":R("".concat(I,"User doesn't have permission to access the object"));break;case"storage/canceled":R("".concat(I,"User canceled the upload"));break;case"storage/unknown":R("".concat(U,"Unknown error occurred, inspect the server response"));break;default:R("".concat(U,"Unhandled error by firebase, check de code"))}}))}))},e.handleDeleteFiles=function(){var t=e.state.selectedCards,n=document.getElementById("deleteStateFile");t.forEach((function(e){var t=S.child(e.id);k(e.id)?(R("".concat(D,"Deleting ").concat(e.id," folder...")),function e(t){S.child(t).listAll().then((function(t){t.prefixes.forEach((function(t){e(t.location.path)})),t.items.forEach((function(e){e.delete()}))})).catch((function(e){return console.log(e),!1}))}(e.id)):t.delete().catch((function(t){R("".concat(U,"File ").concat(e.id," couldn't be deleted"))})),R("".concat(z,"Archive ").concat(e.id," deleted")),n.value=e.id,n.click(),e.parentElement.style.display="none"})),e.unselectCards()},e.deleteFilesOnKeyPress=function(t){t||(t=window.event),46===(t.keyCode||t.which)&&e.handleDeleteFiles()},e.disableButtonOnUnselectedCards=function(){return e.state.selectedCards.length>0?"":" btnDisable"},e._isMounted=!1,e.lastMouseMove=!1,e.sx0=0,e.sy0=0,e.sx1=0,e.sy1=0,e.state={selectedCards:[],container:document,cards:Array.prototype.slice.call(document.getElementsByClassName("cardFile"))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setEvents(),R("".concat(z,"\ud835\ude3c\ud835\ude4d\ud835\ude40\ud835\ude3c-\ud835\ude4e\ud835\ude40\ud835\ude47\ud835\ude40\ud835\ude3e\ud835\ude4f\ud835\ude4a\ud835\ude4d ready"))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=c.a.createElement(b.a,{id:"newFolder"},c.a.createElement(b.a.Title,{style:{backgroundColor:"#f3c3a3",color:"#0a4685"},as:"h3"},"New folder name"),c.a.createElement(b.a.Content,{style:{backgroundColor:"#f5f5f5"}},c.a.createElement("input",{id:"folderName",style:{textAlign:"center",color:"#0a4685"},type:"text",autoFocus:!0,autoComplete:"off"})));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"areaSelector",hidden:!0},"\xa0"),c.a.createElement("button",{id:"unselectCards",style:{display:"none"},onClick:function(){return e.unselectCards()}}),c.a.createElement("div",{id:"toolNav",className:"flex-column fixed-right rounded"},c.a.createElement(y.a,null,c.a.createElement(v.a,{className:"navButton","aria-label":"Add file",style:{backgroundColor:"#4cbb66",borderColor:"#4cbb66"},onClick:function(){return document.getElementById("addFile").click()}},c.a.createElement(h.a,{icon:f.r})),c.a.createElement(E.a,{trigger:"click",placement:"left",overlay:t},c.a.createElement(v.a,{className:"navButton","aria-label":"Add folder",id:"newfolderOverlay",style:{backgroundColor:"#479057",borderColor:"#479057"},onClick:function(){return document.getElementById("addFolder").click()}},c.a.createElement(h.a,{icon:f.y}))),c.a.createElement(v.a,{className:"navButton".concat(this.disableButtonOnUnselectedCards()),"aria-label":"Downlaod files",variant:"info",onClick:function(){return e.handleDownloadFiles()}},c.a.createElement(h.a,{icon:f.d})),c.a.createElement(v.a,{className:"navButton".concat(this.disableButtonOnUnselectedCards()),"aria-label":"Delete files",variant:"danger",onClick:function(){return e.handleDeleteFiles()}},c.a.createElement(h.a,{icon:f.F})))))}}]),n}(a.Component)),q=n(79),J=n(34),$=(n(114),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={file:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(t){return t.file=e.props.file,t}))}},{key:"render",value:function(){if(!this.state.file)return!1;var e,t=this.state.file;return c.a.createElement(q.a,{className:"file fade-in",onClick:this.props.customOnClick,xs:7,sm:5,md:3,lg:3},c.a.createElement(J.a,{id:t.key,className:t.metadata._isFile?"file-white cardFile":"folder-white cardFile"},c.a.createElement(J.a.Header,{className:t.metadata._isFile?"fileHeader-white":"folderHeader-white"},c.a.createElement(J.a.Title,{className:t.metadata._isFile?"fileName-white":"folderName-white"},t.metadata.name)),c.a.createElement(J.a.Footer,{className:"footer",style:{backgroundColor:"#e8e8e85e"}},c.a.createElement("span",{style:{color:"#4e4e4e"}},t.metadata._isFile?"Last updated: ".concat(function(e){var t=(new Date-e)/60,n="";return t<1e3?t="Less than 1m":(n=1===(t=Math.trunc(t/1e3))?"minute":"minutes",t>=60&&(n=1===(t=Math.trunc(t/10))?"hour":"hours",t>=24&&(n=1===(t=Math.trunc(t/24))?"day":"days",t>=30&&(n=1===(t=Math.trunc(t/30))?"month":"months",t>=12&&(n=1===(t=Math.trunc(t/12))?"year":"years"))))),"".concat(t," ").concat(n)}(new Date(t.metadata.updated))):"Click to open",c.a.createElement("br",null),!t.metadata._isFile||"Size: ".concat((e=t.metadata.size,isNaN(e)&&(e=0),e<1024?"".concat(e," Bytes"):(e/=1024)<1024?"".concat(e.toFixed(2)," Kb"):(e/=1024)<1024?"".concat(e.toFixed(2)," Mb"):(e/=1024)<1024?"".concat(e.toFixed(2)," Gb"):"".concat((e/=1024).toFixed(2)," Tb"))," - "),c.a.createElement(h.a,{icon:w(t.key)})))))}}]),n}(a.Component)),Q=n(33);function V(e){var t;return t="/"===e.currentPath?"root":"root/".concat(e.currentPath),c.a.createElement(Q.a,{className:"mb-3"},c.a.createElement(Q.a.Text,{id:"pathText"},c.a.createElement("span",{style:{color:"#377e8c"}},"\u2756 Current path being spotted")),c.a.createElement(Q.a.Prepend,null,c.a.createElement(Q.a.Text,{id:"pathInfo",style:{fontWeight:"bold"}},c.a.createElement("span",{style:{color:"white"}},"\u2329",t,"\u232a"))))}var Z=n(80),ee=n(81),te=n(58),ne=n(86),ae=(n(115),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).fetchFiles=function(e){return L(),console.log(""),R("".concat(P,"Fetching Files from ").concat(e," ...")),S.child(e).listAll().then((function(t){t.prefixes.forEach((function(e){a.setState((function(t){return t.files.push({key:"".concat(e.location.path,"/"),metadata:{_isFile:!1,name:W("".concat(e.location.path,"/"))}}),t}))})),R("".concat(z,"Fetch with no metadata complete").concat(_())),0===a.state.files.length&&R("".concat(D,"No folders found")),t.items.forEach((function(e){G(e).then((function(e){a.setState((function(t){return t.files.push(e),t}))}))})),a.setState((function(t){return t._isFetch=!0,t.path=e,t}))})).catch((function(e){return console.log(e),!1}))},a.checkIfFileExist=function(e){return!!a.state.files.map((function(t){return"/"===e[0]&&(e=e.substr(1)),e===t.key&&(R("".concat(I,"Archive ").concat(t.key," already exist")),a.setState({existingFile:!0}),!0)})).join().includes("true")},a.handleCreateFile=function(e){var t=e.target.files[0];e.target.value="";var n=H(a.state.path),c=n+t.name,o=S.child(n+t.name);a.checkIfFileExist(c)||o.put(t).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;a.setState((function(e){return e.fileUploadProgress=t,e}))}),(function(e){R("".concat(U,"File ").concat(t.name," couldn't be uploaded")),a.setState((function(e){return e.fileUploadProgress=0,e}))}),(function(){R("".concat(D,"File ").concat(t.name," was uploaded")),a.setState((function(e){return e.fileUploadProgress=0,e})),a.state.path===n&&a.setState((function(e){return e.files.push({key:c,metadata:{_isFile:!0,name:t.name,size:t.size,updated:new Date,contentType:t.type}}),e}))}))},a.handleDeleteStateFile=function(e){e.persist(),a.setState((function(t){t.files.forEach((function(n,a){n.key===e.target.value&&t.files.splice(a,1)}))})),a.forceUpdate()},a.handleCreateFolder=function(){setTimeout((function(){var e=document.getElementById("folderName"),t=H(a.state.path);if(null!==e){var n=document.getElementById("newfolderOverlay");e.onkeydown=function(e){e||(e=window.event),27===(e.keyCode||e.which)&&n.click()},e.onkeypress=function(c){if(c||(c=window.event),13===(c.keyCode||c.which)){var o=t+e.value+"/";if(a.checkIfFileExist(o))return;if(n.click(),c.target.value.replace(/\s/g,"").length<=0)return;S.child("".concat(t,"/").concat(c.target.value,"/.folder")).put(new File([""],".folder")).then((function(){R("".concat(D,"Folder ").concat(c.target.value," was created")),setTimeout((function(){t===a.state.path&&a.setState((function(e){return e.files.push({key:"".concat(t).concat(c.target.value,"/"),metadata:{_isFile:!1,name:W("".concat(c.target.value,"/"))}}),e}))}),100)}))}}}}),0)},a.handleOpenFolder=function(e){if(!e.endsWith("/"))return!1;a.setState((function(e){e.files=[]})),document.getElementById("unselectCards").click(),a.fetchFiles(e)},a.handleGoBack=function(e){"/"!==a.state.path&&a.handleOpenFolder(function(e){var t=e;k(e)&&(e=e.slice(0,-1));var n=e.substring(e.lastIndexOf("/"),e.length);return"".concat(t.replace("".concat(n,"/"),""),"/")}(a.state.path))},a.handleOpenRoot=function(){"/"!==a.state.path&&a.handleOpenFolder("/")},a.handleShowFileCards=function(){if(null===a.state.files||a.state.files.length<0)return c.a.createElement("span",{className:"text-info mt-3"},!!a.state._isFetch&&"No files");var e=[];return a.state.files.forEach((function(t){(a.state.hiddenFiles||"."!==W(t.key)[0])&&e.push(c.a.createElement($,{key:t.key,file:t,customOnClick:function(e){return a.handleOpenFolder(t.key)}}))})),e},a.state={_isFetch:!1,existingFile:!1,hiddenFiles:!1,dashboard:!1,filesystem:!0,path:"/",files:[],fileUploadProgress:0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchFiles(this.state.path)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"filesystem"},!!this.state.existingFile&&c.a.createElement(te.a,{variant:"warning",style:{width:"50%",marginLeft:"26%"},onClose:function(){return e.setState({existingFile:!1})},dismissible:!0},c.a.createElement(te.a.Heading,null,"Archive already exist!"),c.a.createElement("p",null,"To rewrite it try to delete and reupload the file.")),c.a.createElement(Y,null),c.a.createElement("form",null,c.a.createElement("input",{type:"file",id:"addFile",style:{display:"none"},onChange:function(t){return e.handleCreateFile(t)}}),c.a.createElement("input",{type:"text",id:"deleteStateFile",style:{display:"none"},onChange:function(t){return e.handleDeleteStateFile(t)}})),c.a.createElement("button",{id:"addFolder",style:{display:"none"},onClick:function(){return e.handleCreateFolder()}}),c.a.createElement(V,{currentPath:this.state.path}),c.a.createElement("div",{id:"fileNav"},c.a.createElement("div",{id:"btnBack",type:"button",onClick:function(t){return e.handleGoBack(t)},style:{color:"#377e8c",fontSize:"40px",display:"inline-block",marginRight:"1.8rem"}},c.a.createElement(h.a,{icon:f.a})),c.a.createElement("div",{id:"btnRoot",type:"button",onClick:function(){return e.handleOpenRoot()},style:{color:"#377e8c",fontSize:"40px",display:"inline-block"}},c.a.createElement(h.a,{icon:f.A})),c.a.createElement("div",{id:"btnHide",type:"button",onClick:function(){e.setState((function(e){return e.hiddenFiles=!e.hiddenFiles,e}))},style:{color:"#377e8c",fontSize:"40px",display:"inline-block",marginLeft:"24px"}},c.a.createElement(h.a,{icon:this.state.hiddenFiles?f.i:f.C}))),c.a.createElement(p,{_isFetch:this.state._isFetch}),c.a.createElement(Z.a,null,c.a.createElement(ee.a,{className:"justify-content-md-center",id:"cardsRow"},this.handleShowFileCards())),c.a.createElement(ne.a,{id:"fileUploadProgressBar",className:"fixedFooter",now:this.state.fileUploadProgress,label:"".concat(this.state.fileUploadProgress,"%"),srOnly:!0}))}}]),n}(a.Component)),ce=n(82),oe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).addSpaceUsed=function(e){e.persist(),a.setState((function(t){return t.spaceUsed+=parseInt(e.target.value),t}))},a.maxSpace=1024,a.state={spaceUsed:0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){!function e(t){S.child(t).listAll().then((function(t){t.prefixes.forEach((function(t){e(t.location.path)})),t.items.forEach((function(e){G(e,!0).then((function(e){var t=document.getElementById("addSpaceUsed");t.value=e.metadata.size,t.click()}))}))})).catch((function(e){return console.log(e),!1}))}("/")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"sub chart-wrapper"},c.a.createElement("input",{type:"number",id:"addSpaceUsed",style:{display:"none"},onClick:function(t){return e.addSpaceUsed(t)}}),c.a.createElement("h2",{style:{color:"#16508e"}},"Space Dashboard"),c.a.createElement("i",{className:"text-muted"},"Percentage representation"),c.a.createElement("p",null),c.a.createElement(ce.Pie,{height:120,data:{labels:["Space used","Total"],datasets:[{label:"Space used",data:[(this.state.spaceUsed/1e6*100/this.maxSpace).toFixed(2),100],backgroundColor:["#e9bb9c","#8bbce9"]}]}}))}}]),n}(a.Component),re=(n(210),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleClickOutOfMenu=function(e){var t=e.target,n=document.getElementById("menu-toggler");n.checked&&(""===t.id&&""===t.className||"menu-toggler"!==t.id&&"item"!==t.className&&"item"!==(t=t.parentElement).className&&"item"!==(t=t.parentElement).className)&&n.click()},a.state={dashboard:!1,filesystem:!0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.body.addEventListener("mousedown",(function(t){return e.handleClickOutOfMenu(t)}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"filemanager"},c.a.createElement("h1",null,"Spot",c.a.createElement(u.a,{variant:"secondary",id:"badgeTitle"},c.a.createElement("span",{style:{color:"white"}},"Slot"))),c.a.createElement(m,null),c.a.createElement("button",{id:"renderFilesystem",style:{display:"none"},onClick:function(){e.setState((function(e){return e.filesystem=!0,e.dashboard=!1,e}))}}),c.a.createElement("button",{id:"renderDashboard",style:{display:"none"},onClick:function(){e.setState((function(e){return e.filesystem=!1,e.dashboard=!0,e}))}}),c.a.createElement("hr",null),!!this.state.filesystem&&c.a.createElement(ae,null),!!this.state.dashboard&&c.a.createElement(oe,null))}}]),n}(a.Component));var ie=function(){return c.a.createElement("div",{className:"App",id:"app"},c.a.createElement("div",{className:"fluid-container m-5 text-center noselect"},c.a.createElement(re,null)))},se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}console.group("%c%c\u22a2\u2635\u2635\u2635\u2635\u2635\u2635\u2524 \ud835\ude47\ud835\ude5a\ud835\ude5c\ud835\ude5a\ud835\ude63\ud835\ude59 \u251c\u2635\u2635\u2635\u2635\u2635\u2635\u22a3","","color:#1E799E; font-size:1.3em;"),console.info("%c\u2609  %c=  %cPinpoint info","font-size: 2em","font-size: 1.5em","color:#598ED1"),console.info("%c\u2600  %c=  %cCorrect app flow","font-size: 2em","font-size: 1.5em","color:#1E9E65"),console.info("%c\u2602  %c=  %cWarning it may rain","font-size: 2em","font-size: 1.5em","color:#aca94f"),console.info("%c\u2744  %c=  %cApp got freeze by errors","font-size: 2em","font-size: 1.5em","color:#C72A2A"),console.groupEnd(),console.info("%c%c\u22a2\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u2635\u22a3","","color:#1E799E; font-weight: bold; font-size:1.3em;"),console.info(""),console.group("%c%c \u22a2\u2514\u22a3\u2524 \ud835\ude47\ud835\ude64\ud835\ude5c \u251c\u22a2\u2518\u22a3","","color:#1E799E; font-size:1.3em;"),r.a.render(c.a.createElement(ie,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/SpotSlot",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/SpotSlot","/service-worker.js");se?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(t,e)}))}}()},87:function(e,t,n){e.exports=n(211)},93:function(e,t,n){},94:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.a21d4a35.chunk.js.map